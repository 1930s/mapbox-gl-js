<!DOCTYPE html>
<html>
<head>
    <title>Mapbox GL JS debug page</title>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel='stylesheet' href='/dist/mapbox-gl.css' />
    <style>
        body { margin: 0; padding: 0; }
        html, body, #map { height: 100%; }
    </style>
</head>

<body>
<div id='map'></div>

<script src='/dist/mapbox-gl-dev.js'></script>
<script src='/debug/access_token_generated.js'></script>
<script>

const emptyStyle = {
    version: 8,
    sources: {},
    layers: []
};

const map = new mapboxgl.Map({
    container: "map",
    style: emptyStyle,
    center: [18, 47],
    zoom: 5
});

map.on("load", function() {
    map.addSource("raster", {
        type: "raster",
        tiles: [
            "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"
        ],
        tileSize: 128
    });
    map.addLayer({ id: "raster", type: "raster", source: "raster" });

    map.on("moveend", fly);
    fly();
});

function fly() {
    map.flyTo({
        center: [5 + Math.random() * 13, 46 + Math.random() * 5],
        zoom: 15,
        curve: 3,
        speed: 0.2
    });
}

</script>
</body>
</html>
